<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walentykowa niespodzianka ğŸ˜</title>
<style>
body { margin:0; font-family:Arial; text-align:center; background:linear-gradient(135deg,#ff758c,#ff7eb3); overflow:hidden;}
.hidden{display:none;}
input{padding:12px;font-size:16px;border-radius:8px;border:none;margin-top:10px;}
.unlock-btn{margin-top:10px;padding:10px 20px;border:none;border-radius:8px;background:black;color:white;cursor:pointer;}
h1{font-size:1.8rem;padding:20px;}
.buttons{display:flex;gap:15px;margin-top:20px;}
button{padding:15px 25px;font-size:18px;border:none;border-radius:12px;cursor:pointer;transition:0.3s;}
#yes{background-color:#ff1744;color:white;}
#no{background-color:#333;color:white;}
#result{display:none;font-size:2.5rem;margin-top:30px;}
#bear{display:none;margin-top:20px;}
#bear img{width:250px;max-width:80vw;}
.heart{position:absolute;font-size:20px;animation:fall 4s linear infinite;}
@keyframes fall{0%{transform:translateY(-100px);opacity:1;}100%{transform:translateY(100vh);opacity:0;}}
#musicMessage{font-size:1.5rem;margin-top:20px;color:white;font-weight:bold;}
</style>
</head>
<body>

<!-- EKRAN HASÅA -->
<div id="lockScreen">
<h2>ğŸ”’ Wpisz tajne hasÅ‚o</h2>
<input type="password" id="passwordInput" placeholder="HasÅ‚o..."><br>
<button class="unlock-btn" onclick="unlock()">Odblokuj</button>
<p id="error" style="color:red;"></p>
</div>

<!-- GÅÃ“WNA STRONA -->
<div id="mainContent" class="hidden">
<h1>Iza czy zostaniesz mojÄ… walentynkÄ…? â¤ï¸</h1>
<div class="buttons">
<button id="yes" onclick="clickYes()">Tak â¤ï¸</button>
<button id="no" onclick="clickNo()">Nie ğŸ’”</button>
</div>
<div id="musicMessage" class="hidden">PosÅ‚uchaj muzyki do koÅ„ca ğŸ¶</div>
<div id="result">WIEDZIAÅEM ğŸ˜â¤ï¸</div>
<div id="bear">
<img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" alt="TaÅ„czÄ…cy miÅ›">
</div>

<audio id="music"></audio>
</div>

<script>
// HASÅO
const correctPassword = "cpamxanyodkadbylemmaly";
function unlock(){
let input=document.getElementById("passwordInput").value;
let error=document.getElementById("error");
if(input===correctPassword){
document.getElementById("lockScreen").style.display="none";
document.getElementById("mainContent").classList.remove("hidden");
}else{error.textContent="ZÅ‚e hasÅ‚o ğŸ˜œ";}
}

// MUZYKA
let music=document.getElementById("music");
let musicMessage=document.getElementById("musicMessage");
let musicStarted=false;

function startMusicFragment(){
if(musicStarted) return;
musicStarted=true;

// ustawiamy pierwszy fragment Lydka
music.src="Lydka.mp3";
music.currentTime=30;
music.play();
musicMessage.textContent="PosÅ‚uchaj muzyki do koÅ„ca ğŸ¶";
musicMessage.classList.remove("hidden");

// sprawdzanie co 100ms
let check=setInterval(()=>{
if(music.currentTime>=88){
music.pause();
clearInterval(check);
musicMessage.textContent="O sorka pomyliÅ‚em muzykÄ™... poczekaj chwilÄ™, zaraz siÄ™ zmieni";

// po 3 sekundach startujemy muzyka3.mp3
setTimeout(()=>{
musicMessage.classList.add("hidden");
music.src="muzyka3.mp3";
music.currentTime=77;
music.play();

// zapÄ™tlenie fragmentu 77-100s
music.addEventListener("timeupdate", function loop(){
if(music.currentTime>=100){
music.currentTime=77;
}
});
},3000);
}
},100);
}

// PRZYCISKI
let yesButton=document.getElementById("yes");
let noButton=document.getElementById("no");
let result=document.getElementById("result");
let bear=document.getElementById("bear");
let size=1;

function clickNo(){
startMusicFragment();
size+=0.4;
yesButton.style.transform="scale("+size+")";
let currentSize=parseFloat(window.getComputedStyle(noButton).fontSize);
let newSize=currentSize-3;
if(newSize>5){noButton.style.fontSize=newSize+"px";noButton.style.padding="5px 8px";}
else{noButton.style.display="none";}
}

function clickYes(){
startMusicFragment();
document.querySelector(".buttons").style.display="none";
document.querySelector("h1").style.display="none";
result.style.display="block";
bear.style.display="block";
createHearts();
}

// SERDUSZKA
function createHearts(){
setInterval(()=>{
let heart=document.createElement("div");
heart.classList.add("heart");
heart.innerHTML="â¤ï¸";
heart.style.left=Math.random()*100+"vw";
heart.style.fontSize=(Math.random()*20+10)+"px";
document.body.appendChild(heart);
setTimeout(()=>{heart.remove();},4000);
},300);
}
</script>

</body>
</html>
